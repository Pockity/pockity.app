<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en-IN" }}">
{%- include "head.html" -%}
<body{% if style or body_class %} class="{% if style %}{{ style }} {% endif %}{{ body_class | default: "blog" }}"{% endif %}>
  {%- include "blogHeader.html" -%}
  <main>
    {%- if pagination.pages.length > 0 -%}
    <ul class="post-list">
      {%- for post in posts -%}
      <hr />
      <li class="container readable">
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        {%- if post.data.bannerImage -%}
          <picture id="post-banner">
            <source media="(max-width: 600px)" srcset="{{ post.data.bannerImage | append: '-400w.png' | absolute_url }} 1x, {{ post.data.bannerImage | append: '-800w.png' | absolute_url }} 2x, {{ post.data.bannerImage | append: '-1600w.png' | absolute_url }} 3x">
            <source media="(min-width: 601px) and (max-width: 800px)" srcset="{{ post.data.bannerImage | append: '-800w.png' | absolute_url }} 1x, {{ post.data.bannerImage | append: '-1600w.png' | absolute_url }} 2x, {{ post.data.bannerImage | append: '@3x.png' | absolute_url }} 3x">
            <img src="{{ post.data.bannerImage | append: '.png' | absolute_url }}" srcset="{{ post.data.bannerImage | append: '@2x.png' | absolute_url }} 2x, {{ post.data.bannerImage | append: '@3x.png' | absolute_url }} 3x"/>
          </picture>
        {%- endif -%}
        {%- if post.data.bannerImageWebP -%}
          <picture id="post-banner">
            <source media="(max-width: 600px)" srcset="{{ post.data.bannerImageWebP | append: '-400w.webp' | absolute_url }} 1x, {{ post.data.bannerImageWebP | append: '-800w.webp' | absolute_url }} 2x, {{ post.data.bannerImageWebP | append: '-1600w.webp' | absolute_url }} 3x">
            <source media="(min-width: 601px) and (max-width: 800px)" srcset="{{ post.data.bannerImageWebP | append: '-800w.webp' | absolute_url }} 1x, {{ post.data.bannerImageWebP | append: '-1600w.webp' | absolute_url }} 2x, {{ post.data.bannerImageWebP | append: '@3x.webp' | absolute_url }} 3x">
            <img src="{{ post.data.bannerImageWebP | append: '.webp' | absolute_url }}" srcset="{{ post.data.bannerImageWebP | append: '@2x.webp' | absolute_url }} 2x, {{ post.data.bannerImageWebP | append: '@3x.webp' | absolute_url }} 3x"/>
          </picture>
        {%- endif -%}
        <h3>
          <a class="post-link" href="{{ post.url | absolute_url }}">
            {{ post.data.title | escape }}
          </a>
        </h3>
        <small class="post-meta">{{ post.date | date: date_format }}</small>
        {{ post.templateContent | truncatewords: 50 }}
      </li>
      {%- endfor -%}
    </ul>
    {% if pagination.pages.length > 1 %}
    <!-- Pagination links -->
    <div class="container readable pagination">
      {% if pagination.href.previous %}
        <a href="{{ pagination.href.previous | absolute_url }}" class="previous">Previous</a>
      {% endif %}
      {% assign page_num = pagination.pageNumber | plus: 1 %}
      <span class="page_number ">Page {{ page_num }} of {{ pagination.pages.length }}</span>
      {% if pagination.href.next %}
        <a href="{{ pagination.href.next | absolute_url }}" class="next">Next</a>
      {% endif %}
    </div>
    {% endif %}
    {%- endif -%}
  </main>
  <div class="container readable" id="blog-footer-rss">
    <p class="rss-subscribe">subscribe <a href="{{ "/feed.xml" | absolute_url }}">via RSS</a></p>
  </div>
  <div class="container readable">
    {%- include "footer.html" -%}
  </div>
  {%- include "blogStyler.html" -%}
</body>
</html>